# Memory Service Configuration Example
# Copy this file to .env and fill in your values

# ============================================================================
# Server Settings
# ============================================================================
HOST=0.0.0.0
PORT=8000
RELOAD=false  # Set to true for development (auto-reload on code changes)
LOG_LEVEL=INFO

# ============================================================================
# Session Pool Settings
# ============================================================================
MAX_SESSIONS=1000  # Maximum sessions to keep in memory
SESSION_TTL_MINUTES=30  # Minutes before session is eligible for eviction
EVICTION_INTERVAL_SECONDS=60  # How often to check for stale sessions

# ============================================================================
# Azure OpenAI (for chat completions)
# ============================================================================
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your_api_key_here
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview

# ============================================================================
# Azure OpenAI Embeddings (for semantic search)
# Optional: If not provided, will use same endpoint as above
# ============================================================================
AZURE_EMBEDDING_ENDPOINT=  # Leave empty to use AZURE_OPENAI_ENDPOINT
AZURE_EMBEDDING_API_KEY=  # Leave empty to use AZURE_OPENAI_API_KEY
AZURE_EMBEDDING_DEPLOYMENT=text-embedding-ada-002
AZURE_EMBEDDING_API_VERSION=2024-02-15-preview

# ============================================================================
# Azure Cosmos DB
# ============================================================================
COSMOS_ENDPOINT=https://your-account.documents.azure.com:443/
COSMOS_KEY=your_cosmos_key_here
COSMOS_DATABASE_NAME=cosmosvector
COSMOS_INTERACTIONS_CONTAINER=interactions
COSMOS_SUMMARIES_CONTAINER=session_summaries
COSMOS_INSIGHTS_CONTAINER=insights

# ============================================================================
# Memory Service Settings
# ============================================================================
K_TURN_BUFFER=5  # Number of recent turns to keep in active memory
L_TURN_CHUNKS=10  # Number of turns per interaction chunk
M_SESSIONS_RECENT=5  # Number of recent sessions to include in context
REFLECTION_THRESHOLD_TURNS=15  # Minimum turns before triggering reflection

# ============================================================================
# Memory Service URL (for clients)
# ============================================================================
MEMORY_SERVICE_URL=http://localhost:8000
